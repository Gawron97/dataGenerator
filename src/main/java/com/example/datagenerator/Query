SELECT _user.first_name, _user.last_name, complain.title, complain.submission_date
FROM _user
JOIN student ON _user.id = student.id_user
JOIN complain ON student.id = complain.id_student;

SELECT dormitory.name, floor.level, COUNT(room.id) AS available_rooms, SUM(room.number_of_beds) AS total_beds
FROM dormitory
JOIN floor ON dormitory.id = floor.id_dormitory
LEFT JOIN room ON floor.id = room.id_floor AND room.is_available = true
GROUP BY dormitory.name, floor.level;

SELECT _user.first_name, _user.last_name, complain.title, complain.submission_date
FROM _user
JOIN student ON _user.id = student.id_user
JOIN complain ON student.id = complain.id_student;

SELECT dormitory.name, additional_services.name AS service_name
FROM dormitory
JOIN dormitory_services ON dormitory.id = dormitory_services.id_dormitory
JOIN additional_services ON dormitory_services.id_additional_service = additional_services.id;

SELECT _user.first_name, _user.last_name, security.qualifications, dormitory.name AS assigned_dormitory
FROM _user
JOIN security ON _user.id = security.id_user
JOIN dormitory_security ON security.id = dormitory_security.id_security
JOIN dormitory ON dormitory_security.id_dormitory = dormitory.id;

SELECT _user.first_name, _user.last_name, _user.contact_number, room.room_number, dormitory.name AS dormitory_name
FROM _user
JOIN student ON _user.id = student.id_user
JOIN contract ON student.id = contract.id_student
JOIN room ON contract.id_room = room.id
JOIN floor ON room.id_floor = floor.id
JOIN dormitory ON floor.id_dormitory = dormitory.id;

SELECT _user.first_name, _user.last_name, office_worker.seniority, dormitory.name AS managed_dormitory
FROM _user
JOIN office_worker ON _user.id = office_worker.id_user
JOIN dormitory ON office_worker.id_user = dormitory.id_manager;

SELECT _user.first_name, _user.last_name, payment.description, payment.creation_date, payment.price, payment_status.status AS payment_status
FROM _user
JOIN student ON _user.id = student.id_user
JOIN payment ON student.id = payment.id_student
JOIN payment_status ON payment.id_payment_status = payment_status.id;

SELECT _user.first_name, _user.last_name, security.qualifications, dormitory.name AS assigned_dormitory, additional_rooms.room_number AS additional_room_number
FROM _user
JOIN security ON _user.id = security.id_user
JOIN dormitory_security ON security.id = dormitory_security.id_security
JOIN dormitory ON dormitory_security.id_dormitory = dormitory.id
JOIN floor_additional_rooms ON dormitory.id = floor_additional_rooms.id_floor
JOIN additional_rooms ON floor_additional_rooms.id_additional_room = additional_rooms.id;

SELECT _user.first_name, _user.last_name, _user.contact_number, room.room_number
FROM _user
JOIN student ON _user.id = student.id_user
JOIN contract ON student.id = contract.id_student
JOIN room ON contract.id_room = room.id
WHERE room.has_a_bathroom = true;